



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://docs.autolabproject.com/lab/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.6.3">
    
    
      
        <title>Guide for Lab Authors - Autolab Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-79424729-3", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#guide-for-lab-authors" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.autolabproject.com/" title="Autolab Documentation" aria-label="Autolab Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Autolab Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Guide for Lab Authors
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Autolab/autolab/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Autolab
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.autolabproject.com/" title="Autolab Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../images/logo.svg" width="48" height="48">
      
    </a>
    Autolab Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Autolab/autolab/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Autolab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
    
    <label class="md-nav__link" for="nav-1">
      Autolab
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Autolab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../instructors/" title="Guide for Instructors" class="md-nav__link">
      Guide for Instructors
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Guide for Lab Authors
      </label>
    
    <a href="./" title="Guide for Lab Authors" class="md-nav__link md-nav__link--active">
      Guide for Lab Authors
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#writing-autograders" class="md-nav__link">
    Writing Autograders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-autograded-labs" class="md-nav__link">
    Installing Autograded Labs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-an-autograded-lab-from-scratch" class="md-nav__link">
    Creating an Autograded Lab from Scratch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-the-new-lab" class="md-nav__link">
    Step 1: Create the new lab.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-configure-the-lab-for-autograding" class="md-nav__link">
    Step 2: Configure the lab for autograding.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-add-the-required-autograding-files" class="md-nav__link">
    Step 3: Add the required autograding files.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importing-an-autograded-lab-from-a-previous-semester" class="md-nav__link">
    Importing an Autograded Lab from a Previous Semester
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-hello-lab" class="md-nav__link">
    Example: Hello Lab
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-structure" class="md-nav__link">
    Directory Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-directory" class="md-nav__link">
    Source Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handout-directory" class="md-nav__link">
    Handout Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autograder" class="md-nav__link">
    Autograder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-autograding-files" class="md-nav__link">
    Required Autograding Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-directory" class="md-nav__link">
    Test Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writeup-directory" class="md-nav__link">
    Writeup directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-is-autolab-not-displaying-my-stdout-output" class="md-nav__link">
    Why is Autolab not displaying my stdout output?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-there-a-way-to-formatting-the-feedback-provided-to-the-students" class="md-nav__link">
    Is there a way to formatting the feedback provided to the students
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Autolab API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Autolab API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-interface/" title="Reference" class="md-nav__link">
      Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../command-line-interface/" title="Command Line Interface" class="md-nav__link">
      Command Line Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-managing-authorized-apps/" title="Managing Authorized Apps" class="md-nav__link">
      Managing Authorized Apps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Tango
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tango
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tango/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-cli/" title="Tango CLI" class="md-nav__link">
      Tango CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-rest/" title="REST API" class="md-nav__link">
      REST API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-vmms/" title="VMMS Docs" class="md-nav__link">
      VMMS Docs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-deploy/" title="Deploying Tango" class="md-nav__link">
      Deploying Tango
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../one-click/" title="OneClick Install" class="md-nav__link">
      OneClick Install
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#writing-autograders" class="md-nav__link">
    Writing Autograders
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-autograded-labs" class="md-nav__link">
    Installing Autograded Labs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-an-autograded-lab-from-scratch" class="md-nav__link">
    Creating an Autograded Lab from Scratch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-the-new-lab" class="md-nav__link">
    Step 1: Create the new lab.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-configure-the-lab-for-autograding" class="md-nav__link">
    Step 2: Configure the lab for autograding.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-add-the-required-autograding-files" class="md-nav__link">
    Step 3: Add the required autograding files.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importing-an-autograded-lab-from-a-previous-semester" class="md-nav__link">
    Importing an Autograded Lab from a Previous Semester
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-hello-lab" class="md-nav__link">
    Example: Hello Lab
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#directory-structure" class="md-nav__link">
    Directory Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-directory" class="md-nav__link">
    Source Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handout-directory" class="md-nav__link">
    Handout Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autograder" class="md-nav__link">
    Autograder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-autograding-files" class="md-nav__link">
    Required Autograding Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-directory" class="md-nav__link">
    Test Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writeup-directory" class="md-nav__link">
    Writeup directory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-is-autolab-not-displaying-my-stdout-output" class="md-nav__link">
    Why is Autolab not displaying my stdout output?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-there-a-way-to-formatting-the-feedback-provided-to-the-students" class="md-nav__link">
    Is there a way to formatting the feedback provided to the students
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Autolab/autolab/edit/master/docs/lab.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="guide-for-lab-authors">Guide for Lab Authors</h1>
<p>This guide explains how to create autograded programming assignments (labs) for the Autolab system.</p>
<h2 id="writing-autograders">Writing Autograders</h2>
<p>An <em>autograder</em> is a program that takes a student's work as input, and generates some quantitative evaluation of that work as output. The student's work consists of one or more source files written in an arbitrary programming language.
The autograder processes these files and generates arbitrary text lines on stdout. The last text line on stdout must be a JSON string, called an <em>autoresult</em>, that assigns an autograded score to one or more problems, and optionally, generates the scoreboard entries for this submission.</p>
<p>The JSON autoresult is a "scores" hash that assigns a numerical score to one or more problems, and an optional "scoreboard" array that provides the scoreboard entries for this submission. For example,</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span> <span class="nt">&quot;scores&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;Prob1&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nt">&quot;Prob2&quot;</span><span class="p">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">}</span>
</code></pre></div>


<p>assigns 10 points to "Prob1" and 5 points to "Prob2" for this submission. The names of the problems must exactly match the names of the problems for this lab on the Autolab web site. Not all problems need to be autograded. For example, there might be a problem for this assessment called "Style" that you grade manually after the due date.</p>
<p>If you used the Autolab web site to configure a scoreboard for this lab with three columns called "Prob1", "Prob2", and "Total", then the autoresult might be:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span> <span class="nt">&quot;scores&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;Prob1&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nt">&quot;Prob2&quot;</span><span class="p">:</span> <span class="mi">5</span> <span class="p">},</span> <span class="nt">&quot;scoreboard&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span> <span class="p">}</span>
</code></pre></div>


<p>By convention, an autograder accepts an optional <code>-A</code> command line argument that tells it to emit the JSON autoresult. So if you run the autograder outside of the context of Autolab, you can suppress the autoresult line by calling the autograder without the <code>-A</code> argument.</p>
<p>One of the nice properties of Autolab autograders is that they can be written and tested offline, without requiring any interaction with Autolab. Writing autograders is not easy, but the fact that they can be developed offline allows you to develop and test them in your own familiar computing environment.</p>
<h2 id="installing-autograded-labs">Installing Autograded Labs</h2>
<p>After you've written and tested the autograder, you then use the Autolab web site to create the autograded lab. Autolab supports creating new labs from scratch, or reusing labs from previous semesters. We'll describe each of these in turn.</p>
<h3 id="creating-an-autograded-lab-from-scratch">Creating an Autograded Lab from Scratch</h3>
<h4 id="step-1-create-the-new-lab">Step 1: Create the new lab.</h4>
<p>Create a new lab by clicking the "Install Assessment" button and choosing "Option 1: Create a New Assessment from Scratch." For course <code>&lt;course&gt;</code> and lab <code>&lt;lab&gt;</code>, this will create a <i>lab directory</i> in the Autolab file hierarchy called <code>courses/&lt;course&gt;/&lt;lab&gt;</code>. This initial directory contains a couple of config files and a directory called <code>&lt;lab&gt;/handin</code> that will contain all of the student handin files. In general, you should never modify any of these.</p>
<div class="admonition warning">
<p class="admonition-title">Attention CMU Lab Authors</p>
<p>At CMU, the lab directory is called <code>/afs/cs/academic/class/&lt;course&gt;/autolab/&lt;lab&gt;</code>. For example: <code>/afs/cs/academic/class/15213-f16/autolab/foo</code> is the lab directory for the lab named <code>foo</code> for the Fall 2016 instance of 15-213. All lab-related files must go in this <code>autolab</code> directory to avoid permissions issues.</p>
</div>
<h4 id="step-2-configure-the-lab-for-autograding">Step 2: Configure the lab for autograding.</h4>
<p>Using the "Edit Assessment" page, turn on autograding for this lab by selecting "Add Autograder." You will be asked for the name of the image to be used for autograding this lab. The default image distributed with Autolab is an Ubuntu image called <code>autograding_image</code>. If your class needs different software, then you or your facilities staff will need to update the default image or create a new one.</p>
<div class="admonition warning">
<p class="admonition-title">Attention CMU Lab Authors</p>
<p>The default autograding image at CMU is called <code>rhel.img</code> and is a copy of the software on the CMU Andrew machines (<code>linux.andrew.cmu.edu</code>). If you need custom software installed, please send mail to autolab-help@andrew.cmu.edu.</p>
</div>
<p>If you want a scoreboard, you should select "Add Scoreboard," which will allow you to specify the number of columns and their names. The "Add Scoreboard" page contains a tutorial on how to do this.</p>
<p>You'll also need to define the names and point values for all the problems in this lab, including the autograded ones.</p>
<p>Each student submission is a single file, either a text source file or an archive file containing multiple files and directories. You'll need to specify the <em>base name</em> for the student submission files (e.g., <code>mm.c</code>, <code>handin.tar</code>).</p>
<h4 id="step-3-add-the-required-autograding-files">Step 3: Add the required autograding files.</h4>
<p>For an autograded lab, Autolab expects the following two <em>autograding files</em> in the lab directory:</p>
<ul>
<li><code>autograde-Makefile</code>: runs the autograder on a student submission.</li>
<li><code>autograde.tar</code>: contains all of the files (except for the student handin file) that are needed for autograding.</li>
</ul>
<p>Each time a student submits their work or an instructor requests a regrade, Autolab</p>
<ol>
<li>copies the student handin file, along with the two autograding files, to an empty directory on an <em>autograding instance</em>,</li>
<li>renames the student handin file to <em>base name</em> (e.g., hello.c, handin.tar),</li>
<li>renames <code>autograde-Makefile</code> to <code>Makefile</code>,</li>
<li>executes the command <code>make</code> on the autograding instance, and finally</li>
<li>captures the stdout generated by the autograder, and parses the resulting JSON autoresult to determine the autograded scores.</li>
</ol>
<h3 id="importing-an-autograded-lab-from-a-previous-semester">Importing an Autograded Lab from a Previous Semester</h3>
<p>If you've created a lab for a course in a previous semester and have access to the lab directory (as we do at CMU via AFS), you can import the lab into your current course by</p>
<ol>
<li>copying the lab directory from the previous course to the current course,</li>
<li>cleaning out the <code>handin</code> directory, then</li>
<li>visiting the "Install Assessment" page and selecting "Option 2: Import an existing assessment from the file system." Autolab will give you a list of all of the directories that appear to be uninstalled labs, from which you can select your particular lab.</li>
</ol>
<p>If you don't have access to the lab directory, another option is to import a lab from a tarball that was created by running "Export assessment" in an instance of a lab from a previous semester. Visit the "Install Assessment" page and select "Option 3: Import an existing assessment from tarball." This will upload the tarball, create a new lab directory by expanding the tarball, and then import the directory.</p>
<h2 id="example-hello-lab">Example: Hello Lab</h2>
<p>In this section we'll look at the simplest possible autograded lab we could imagine, called, appropriately enough, the
<a href="https://github.com/autolab/Autolab/tree/master/examples/hello">Hello Lab</a>
(with <a href="https://github.com/autolab/Autolab/tree/master/examples/hello.tar">tarball</a>), which is stored in a lab directory called <code>hello</code> in the Autolab github repo. While it's trivial, it illustrates all of the aspects of developing an autograded lab, and provides a simple example that you can use for sanity testing on your Autolab installation.</p>
<p>In this lab, students are asked to write a version of the K&amp;R "hello, world" program, called <code>hello.c</code>. The autograder simply checks that the submitted <code>hello.c</code> program compiles and runs with an exit status of zero. If so, the submission gets 100 points. Otherwise it gets 0 points.</p>
<h3 id="directory-structure">Directory Structure</h3>
<p>Autolab expects to find the <code>autograde-Makefile</code>and <code>autograde.tar</code> files in the <code>hello</code> lab directory, but otherwise places no constraints on the contents and organization of this directory. However, based on our experience, we strongly recommend a directory structure with the following form:</p>
<p><a href="https://github.com/autolab/Autolab/tree/master/examples/hello/README">hello/README</a>:</p>
<div class="codehilite"><pre><span></span><code><span class="gh"># Basic files created by the lab author</span>

Makefile Builds the lab from src/
README  
autograde-Makefile Makefile that runs the autograder
src/ Contains all src files and solutions  
test-autograder/ For testing autograder offline
writeup/ Lab writeup that students view from Autolab

<span class="gh"># Files created by running make</span>

hello-handout/ The directory that is handed out to students, created
using files from src/.
hello-handout.tar Archive of hello-handout directory
autograde.tar File that is copied to the autograding instance
(along with autograde-Makefile and student handin file)

<span class="gh"># Files created and managed by Autolab</span>

handin/ All students handin files
hello.rb Config file
hello.yml Database properties that persist from semester to semester
log.txt Log of autograded submissions
</code></pre></div>


<p>The key idea with this directory structure is to place <em>all</em> code for the lab in the <code>src</code> directory, including the autograding code and any starter code handed out to students in the handout directory (<code>hello-handout.tar</code> in this example). Keeping all hard state in the <code>src</code> directory helps limit inconsistencies.</p>
<p>The main makefile creates <code>hello-handout</code> by copying files from <code>src</code>, and then tars it up:</p>
<p><a href="https://github.com/autolab/Autolab/tree/master/examples/hello/Makefile">hello/Makefile</a>:</p>
<div class="codehilite"><pre><span></span><code><span class="c">#</span>
<span class="c"># Makefile to manage the example Hello Lab</span>
<span class="c">#</span>

<span class="c"># Get the name of the lab directory</span>
<span class="nv">LAB</span> <span class="o">=</span> <span class="k">$(</span>notdir <span class="k">$(</span>PWD<span class="k">))</span>

<span class="nf">all</span><span class="o">:</span> <span class="n">handout</span> <span class="n">handout</span>-<span class="n">tarfile</span>

<span class="nf">handout</span><span class="o">:</span>
<span class="c">    # Rebuild the handout directory that students download</span>
    <span class="o">(</span>rm -rf <span class="k">$(</span>LAB<span class="k">)</span>-handout<span class="p">;</span> mkdir <span class="k">$(</span>LAB<span class="k">)</span>-handout<span class="o">)</span>
    cp -p src/Makefile-handout <span class="k">$(</span>LAB<span class="k">)</span>-handout/Makefile
    cp -p src/README-handout <span class="k">$(</span>LAB<span class="k">)</span>-handout/README
    cp -p src/hello.c-handout <span class="k">$(</span>LAB<span class="k">)</span>-handout/hello.c
    cp -p src/driver.sh <span class="k">$(</span>LAB<span class="k">)</span>-handout

<span class="nf">handout-tarfile</span><span class="o">:</span> <span class="n">handout</span>
<span class="c">    # Build *-handout.tar and autograde.tar</span>
    tar cvf <span class="k">$(</span>LAB<span class="k">)</span>-handout.tar <span class="k">$(</span>LAB<span class="k">)</span>-handout
    cp -p <span class="k">$(</span>LAB<span class="k">)</span>-handout.tar autograde.tar

<span class="nf">clean</span><span class="o">:</span>
<span class="c">    # Clean the entire lab directory tree.  Note that you can run</span>
<span class="c">    # &quot;make clean; make&quot; at any time while the lab is live with no</span>
<span class="c">    # adverse effects.</span>
    rm -f *~ *.tar
    <span class="o">(</span><span class="nb">cd</span> src<span class="p">;</span> make clean<span class="o">)</span>
    <span class="o">(</span><span class="nb">cd</span> test-autograder<span class="p">;</span> make clean<span class="o">)</span>
    rm -rf <span class="k">$(</span>LAB<span class="k">)</span>-handout
    rm -f autograde.tar
<span class="c">#</span>
<span class="c"># CAREFULL!!! This will delete all student records in the logfile and</span>
<span class="c"># in the handin directory. Don&#39;t run this once the lab has started.</span>
<span class="c"># Use it to clean the directory when you are starting a new version</span>
<span class="c"># of the lab from scratch, or when you are debugging the lab prior</span>
<span class="c"># to releasing it to the students.</span>
<span class="c">#</span>
<span class="nf">cleanallfiles</span><span class="o">:</span>
<span class="c">    # Reset the lab from scratch.</span>
    make clean
    rm -f log.txt
    rm -rf handin/*
</code></pre></div>


<p>Filenames are disambiguated by appending <code>-handout</code>, which is stripped when they are copied to the handout directory. For example, <code>src/hello.c</code> is the instructor's solution file, and <code>src/hello.c-handout</code> is the starter code that is given to the students in <code>hello-handout/hello.c</code>. And <code>src/README</code> is the README for the src directory and <code>src/README-handout</code> is the README that is handed out to students in <code>hello-handout/README</code>.</p>
<p>To build the lab, type <code>make clean; make</code>. You can do this as often as you like while the lab is live with no adverse effects. However, be careful to never type <code>make cleanallfiles</code> while the lab is live; this should only be done before the lab goes live; never during or after.</p>
<h3 id="source-directory">Source Directory</h3>
<p>The <a href="https://github.com/autolab/Autolab/tree/master/examples/hello/src">hello/src/</a> directory
contains <em>all</em> of the code files for the Hello Lab, including the files that are handed out to students:</p>
<p><a href="https://github.com/autolab/Autolab/tree/master/examples/hello/src/README">hello/src/README</a>:</p>
<div class="codehilite"><pre><span></span><code><span class="o">#</span> <span class="n">Autograder</span> <span class="k">and</span> <span class="n">solution</span> <span class="n">files</span>
<span class="n">Makefile</span>                <span class="n">Makefile</span> <span class="k">and</span> <span class="p">...</span>
<span class="n">README</span>                  <span class="p">...</span> <span class="n">README</span> <span class="k">for</span> <span class="n">this</span> <span class="n">directory</span>
<span class="n">driver</span><span class="p">.</span><span class="n">sh</span><span class="o">*</span>              <span class="n">Autograder</span>
<span class="n">hello</span><span class="p">.</span><span class="k">c</span>                 <span class="n">Solution</span> <span class="n">hello</span><span class="p">.</span><span class="k">c</span> <span class="n">file</span>

<span class="o">#</span> <span class="n">Files</span> <span class="n">that</span> <span class="k">are</span> <span class="n">handed</span> <span class="k">out</span> <span class="k">to</span> <span class="n">students</span>
<span class="n">Makefile</span><span class="o">-</span><span class="n">handout</span>        <span class="n">Makefile</span> <span class="k">and</span> <span class="p">...</span>
<span class="n">README</span><span class="o">-</span><span class="n">handout</span>          <span class="p">...</span> <span class="n">README</span> <span class="n">handed</span> <span class="k">out</span> <span class="k">to</span> <span class="n">students</span>
<span class="n">hello</span><span class="p">.</span><span class="k">c</span><span class="o">-</span><span class="n">handout</span>         <span class="n">Blank</span> <span class="n">hello</span><span class="p">.</span><span class="k">c</span> <span class="n">file</span> <span class="n">handed</span> <span class="k">out</span> <span class="k">to</span> <span class="n">students</span>
</code></pre></div>


<h3 id="handout-directory">Handout Directory</h3>
<p>The <a href="https://github.com/autolab/Autolab/tree/master/examples/hello/hello-handout/">hello/hello-handout/</a> directory
contains the files that the students will use to work on the lab. It contains no hard state, and is populated entirely with files from <code>hello/src</code>:</p>
<p><a href="https://github.com/autolab/Autolab/tree/master/examples/hello/hello-handout/README">hello/hello-handout/README</a>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">For</span> <span class="n">this</span> <span class="n">lab</span>, <span class="n">you</span> <span class="n">should</span> <span class="nb">write</span> <span class="n">a</span> <span class="n">tiny</span> <span class="n">C</span> <span class="n">program</span>, <span class="n">called</span> <span class="s">&quot;hello.c&quot;</span>,
<span class="n">that</span> <span class="n">prints</span> <span class="s">&quot;hello, world&quot;</span> <span class="nb">to</span> <span class="nb">stdout</span> <span class="o">and</span> <span class="nb">then</span> <span class="n">indicates</span> <span class="n">success</span> <span class="n">by</span>
<span class="n">exiting</span> <span class="k">with</span> <span class="n">a</span> <span class="nb">status</span> <span class="nb">of</span> <span class="n">zero</span>.

<span class="n">To</span> <span class="n">test</span> <span class="n">your</span> <span class="n">work:</span>
$ <span class="k">make</span> <span class="n">clean</span>; <span class="k">make</span>; ./<span class="n">hello</span>

<span class="n">To</span> <span class="nb">run</span> <span class="n">the</span> <span class="n">same</span> <span class="n">autograder</span> <span class="n">that</span> <span class="n">Autolab</span> <span class="n">will</span> <span class="k">use</span> <span class="k">when</span> <span class="n">you</span> <span class="n">submit:</span>
$ ./<span class="n">driver</span>.<span class="n">sh</span>

<span class="n">Files:</span>
<span class="n">README</span>          <span class="n">This</span> <span class="nb">file</span>
<span class="n">Makefile</span>        <span class="n">Compiles</span> <span class="n">hello</span>.<span class="n">c</span>
<span class="n">driver</span>.<span class="n">sh</span>       <span class="n">Autolab</span> <span class="n">autograder</span>
<span class="n">hello</span>.<span class="n">c</span>         <span class="n">Empty</span> <span class="n">C</span> <span class="nb">file</span> <span class="n">that</span> <span class="n">you</span> <span class="n">will</span> <span class="n">edit</span>
</code></pre></div>


<p><a href="https://github.com/autolab/Autolab/tree/master/examples/hello/hello-handout/Makefile">hello/hello-handout/Makefile</a> contains the rules that compile the student source code:</p>
<div class="codehilite"><pre><span></span><code><span class="c"># Student makefile for the Hello Lab</span>
<span class="nf">all</span><span class="o">:</span>
    gcc hello.c -o hello

<span class="nf">clean</span><span class="o">:</span>
    rm -rf *~ hello
</code></pre></div>


<p>To compile and run their code, students type:</p>
<div class="codehilite"><pre><span></span><code>$ make clean<span class="p">;</span> make
$ ./hello
</code></pre></div>


<h3 id="autograder">Autograder</h3>
<p>The autograder for the Hello Lab is a trivially simple bash script called <code>driver.sh</code> that compiles and runs <code>hello.c</code> and verifies that it returns with an exit status of zero:</p>
<p><a href="https://github.com/autolab/Autolab/tree/master/examples/hello/src/driver.sh">hello/src/driver.sh</a></p>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># driver.sh - The simplest autograder we could think of. It checks</span>
<span class="c1">#   that students can write a C program that compiles, and then</span>
<span class="c1">#   executes with an exit status of zero.</span>
<span class="c1">#   Usage: ./driver.sh</span>

<span class="c1"># Compile the code</span>
<span class="nb">echo</span> <span class="s2">&quot;Compiling hello.c&quot;</span>
<span class="o">(</span>make clean<span class="p">;</span> make<span class="o">)</span>
<span class="nv">status</span><span class="o">=</span><span class="nv">$?</span>
<span class="k">if</span> <span class="o">[</span> <span class="si">${</span><span class="nv">status</span><span class="si">}</span> -ne <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Failure: Unable to compile hello.c (return status = </span><span class="si">${</span><span class="nv">status</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;{\&quot;scores\&quot;: {\&quot;Correctness\&quot;: 0}}&quot;</span>
    <span class="nb">exit</span>
<span class="k">fi</span>

<span class="c1"># Run the code</span>
<span class="nb">echo</span> <span class="s2">&quot;Running ./hello&quot;</span>
./hello
<span class="nv">status</span><span class="o">=</span><span class="nv">$?</span>
<span class="k">if</span> <span class="o">[</span> <span class="si">${</span><span class="nv">status</span><span class="si">}</span> -eq <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Success: ./hello runs with an exit status of 0&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;{\&quot;scores\&quot;: {\&quot;Correctness\&quot;: 100}}&quot;</span>
<span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;Failure: ./hello fails or returns nonzero exit status of </span><span class="si">${</span><span class="nv">status</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;{\&quot;scores\&quot;: {\&quot;Correctness\&quot;: 0}}&quot;</span>
<span class="k">fi</span>

<span class="nb">exit</span>
</code></pre></div>


<p>For example:</p>
<div class="codehilite"><pre><span></span><code>$ ./driver.sh
<span class="c1"># Compiling hello.c</span>
<span class="c1"># rm -rf *~ hello</span>
<span class="c1"># gcc hello.c -o hello</span>
<span class="c1"># Running ./hello</span>
<span class="c1"># Hello, world</span>
<span class="c1"># Success: ./hello runs with an exit status of 0</span>
<span class="c1"># {&quot;scores&quot;: {&quot;Correctness&quot;: 100}}</span>
</code></pre></div>


<p>Notice that the autograder expects the <code>hello</code> lab on the Autolab front-end to have been defined with a problem called "Correctness", with a maximum value of 100 points. If you forget to define the problems listed in the JSON autoresult, scores will still be logged, but they won't be posted to the database.</p>
<h3 id="required-autograding-files">Required Autograding Files</h3>
<p>Autolab requires two <em>autograding files</em> called <code>autograde.tar</code>, which contains all of the code required by the autograder, and <code>autograde-Makefile</code>, which runs the autograder on the autograding image when each submission is graded.</p>
<p>For the Hello Lab, <code>autograde.tar</code> is simply a copy of the <code>hello-handout.tar</code> file that is handed out to students. And here is the corresponding
<a href="https://github.com/autolab/Autolab/tree/master/examples/hello/autograde-Makefile">hello/autograde-makefile</a>:</p>
<div class="codehilite"><pre><span></span><code><span class="nf">all</span><span class="o">:</span>
    tar xvf autograde.tar
    cp hello.c hello-handout
    <span class="o">(</span><span class="nb">cd</span> hello-handout<span class="p">;</span> ./driver.sh<span class="o">)</span>

<span class="nf">clean</span><span class="o">:</span>
    rm -rf *~ hello-handout
</code></pre></div>


<p>The makefile expands <code>autograde.tar</code> into <code>hello-handout</code>, copies <code>hello.c</code> (the submission file) into <code>hello-handout</code>, changes directory to <code>hello-handout</code>, builds the autograder, and then runs it.</p>
<h3 id="test-directory">Test Directory</h3>
<p>For our labs, we like to setup a test directory (called <code>test-autograder</code> in this example), that allows us to test our <code>autograde-Makefile</code> and <code>autograde-tar</code> files by simulating Autolab's behavior on the autograding instance. The <code>test-autograder</code> directory has the following form:</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nb">cd</span> test-autograder
$ ls -l
<span class="c1"># total 3</span>
<span class="c1"># lrwxr-xr-x 1 droh users  21 Aug  4 16:43 Makefile -&gt; autograde-Makefile</span>
<span class="c1"># lrwxr-xr-x 1 droh users  16 Aug  4 16:43 autograde.tar -&gt; autograde.tar</span>
<span class="c1"># -rw-rw-r-- 1 droh users 113 Aug  4 16:44 hello.c</span>
</code></pre></div>


<p>To simulate Autolab's behavior on an autograding instance:</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nb">cd</span> test-autograder <span class="o">&amp;&amp;</span> make clean <span class="o">&amp;&amp;</span> make
<span class="c1"># Running ./hello</span>
<span class="c1"># Hello, world</span>
<span class="c1"># Success: ./hello runs with an exit status of 0</span>
<span class="c1"># {&quot;scores&quot;: {&quot;Correctness&quot;: 100}}</span>
</code></pre></div>


<h3 id="writeup-directory">Writeup directory</h3>
<p>The <code>hello/writeup</code> contains the detailed lab writeup, either html or pdf file, that students can download from the Autolab front end.</p>
<h2 id="faq">FAQ</h2>
<h4 id="why-is-autolab-not-displaying-my-stdout-output">Why is Autolab not displaying my stdout output?</h4>
<p>Autolab always shows the stdout output of running make, even when the program crashed or timed out. However, when it does crash and the expected autoresult json string is not appended to the output, parsing of the last line will fail. If this happens, any stdout output that is longer than 10,000 lines will be discarded (Note that this limit does not apply when the autoresult json is valid).</p>
<h4 id="is-there-a-way-to-formatting-the-feedback-provided-to-the-students">Is there a way to formatting the feedback provided to the students</h4>
<p>Yes there is, by using the <a href="/features/#formatted-feedback">formatted feedback feature</a>. </p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../instructors/" title="Guide for Instructors" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Guide for Instructors
              </span>
            </div>
          </a>
        
        
          <a href="../features/" title="Features" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Features
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Autolab" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://facebook.com/autolabproject" target="_blank" rel="noopener" title="facebook" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
      
    
  </body>
</html>