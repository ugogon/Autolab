



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://docs.autolabproject.com/tango-vmms/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.6.3">
    
    
      
        <title>VMMS Docs - Autolab Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-79424729-3", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#api" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.autolabproject.com/" title="Autolab Documentation" aria-label="Autolab Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Autolab Documentation
            </span>
            <span class="md-header-nav__topic">
              
                VMMS Docs
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Autolab/autolab/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Autolab
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.autolabproject.com/" title="Autolab Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../images/logo.svg" width="48" height="48">
      
    </a>
    Autolab Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Autolab/autolab/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Autolab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Autolab
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Autolab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../instructors/" title="Guide for Instructors" class="md-nav__link">
      Guide for Instructors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lab/" title="Guide for Lab Authors" class="md-nav__link">
      Guide for Lab Authors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Autolab API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Autolab API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-interface/" title="Reference" class="md-nav__link">
      Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../command-line-interface/" title="Command Line Interface" class="md-nav__link">
      Command Line Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-managing-authorized-apps/" title="Managing Authorized Apps" class="md-nav__link">
      Managing Authorized Apps
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Tango
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tango
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tango/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-cli/" title="Tango CLI" class="md-nav__link">
      Tango CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-rest/" title="REST API" class="md-nav__link">
      REST API
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        VMMS Docs
      </label>
    
    <a href="./" title="VMMS Docs" class="md-nav__link md-nav__link--active">
      VMMS Docs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initializevm" class="md-nav__link">
    initializeVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#waitvm" class="md-nav__link">
    waitVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyin" class="md-nav__link">
    copyIn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runjob" class="md-nav__link">
    runJob
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyout" class="md-nav__link">
    copyOut
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroyvm" class="md-nav__link">
    destroyVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safedestroyvm" class="md-nav__link">
    safeDestroyVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getvms" class="md-nav__link">
    getVMs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-vmms-setup" class="md-nav__link">
    Docker VMMS Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amazon-ec2-vmms-setup" class="md-nav__link">
    Amazon EC2 VMMS Setup
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tango-deploy/" title="Deploying Tango" class="md-nav__link">
      Deploying Tango
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../one-click/" title="OneClick Install" class="md-nav__link">
      OneClick Install
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initializevm" class="md-nav__link">
    initializeVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#waitvm" class="md-nav__link">
    waitVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyin" class="md-nav__link">
    copyIn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runjob" class="md-nav__link">
    runJob
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copyout" class="md-nav__link">
    copyOut
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroyvm" class="md-nav__link">
    destroyVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safedestroyvm" class="md-nav__link">
    safeDestroyVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getvms" class="md-nav__link">
    getVMs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-vmms-setup" class="md-nav__link">
    Docker VMMS Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#amazon-ec2-vmms-setup" class="md-nav__link">
    Amazon EC2 VMMS Setup
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Autolab/autolab/edit/master/docs/tango-vmms.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>VMMS Docs</h1>
                
                <p>This page documents the interface for Tango's Virtual Machine Management Systems' (VMMSs) API and instructions for setting up VMMSs. See <a href="https://github.com/autolab/Tango/tree/master/vmms">the vmms directory</a> in Tango for example implementations.</p>
<h2 id="api">API</h2>
<p>The functions necessary to implement the API are documented here. Note that for certain implementations, some of these methods will be no-ops since the VMMS doesn't require any particular instructions to perform the specified actions. Furthermore, throughout this document, we use the term "VM" liberally to represent any container-like object on which Tango jobs may be run.</p>
<h3 id="initializevm">initializeVM</h3>
<div class="codehilite"><pre><span></span><code><span class="n">initializeVM</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">)</span>
</code></pre></div>


<p>Creates a new VM instance for the VMMS based on the fields of <code>vm</code>, which is a <code>TangoMachine</code> object defined in <code>tangoObjects.py</code>.</p>
<h3 id="waitvm">waitVM</h3>
<div class="codehilite"><pre><span></span><code><span class="n">waitVM</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">,</span> <span class="n">max_secs</span><span class="p">)</span>
</code></pre></div>


<p>Waits at most <code>max_secs</code> for a VM to be ready to run jobs. Returns an error if the VM is not ready after <code>max_secs</code>.</p>
<h3 id="copyin">copyIn</h3>
<div class="codehilite"><pre><span></span><code><span class="n">copyIn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">,</span> <span class="n">inputFiles</span><span class="p">)</span>
</code></pre></div>


<p>Copies the input files for a job into the VM. <code>inputFiles</code> is a list of <code>InputFile</code> objects defined in <code>tangoObjects.py</code>. For each <code>InputFile</code> object, <code>file.localFile</code> is the name of the file on the Tango host machine and <code>file.destFile</code> is what the name of the file should be on the VM.</p>
<h3 id="runjob">runJob</h3>
<div class="codehilite"><pre><span></span><code><span class="n">runJob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">,</span> <span class="n">runTimeout</span><span class="p">,</span> <span class="n">maxOutputFileSize</span><span class="p">)</span>
</code></pre></div>


<p>Runs the autodriver binary on the VM. The autodriver runs <code>make</code> on the VM (which in turn runs the job via the <code>Makefile</code> that was provided as a part of the input files for the job). The output from the autodriver most likely should be redirected to some feedback file to be used in the next method of the API.</p>
<h3 id="copyout">copyOut</h3>
<div class="codehilite"><pre><span></span><code><span class="n">copyOut</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">,</span> <span class="n">destFile</span><span class="p">)</span>
</code></pre></div>


<p>Copies the output file for the job out of the VM into <code>destFile</code> on the Tango host machine.</p>
<h3 id="destroyvm">destroyVM</h3>
<div class="codehilite"><pre><span></span><code><span class="n">destroyVM</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">)</span>
</code></pre></div>


<p>Removes a VM from the Tango system.</p>
<h3 id="safedestroyvm">safeDestroyVM</h3>
<div class="codehilite"><pre><span></span><code><span class="n">safeDestroyVM</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">)</span>
</code></pre></div>


<p>Removes a VM from the Tango system and makes sure that it has been removed.</p>
<h3 id="getvms">getVMs</h3>
<div class="codehilite"><pre><span></span><code><span class="n">getVMs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>


<p>Returns a complete list of VMs associated with this Tango system.</p>
<h2 id="docker-vmms-setup">Docker VMMS Setup</h2>
<p>This is a guide to set up Tango to run jobs inside Docker containers.</p>
<ol>
<li>
<p>Install docker on host machine by following instructions on the <a href="https://docs.docker.com/installation/">docker installation page</a>. Ensure docker is running:</p>
<div class="codehilite"><pre><span></span><code>$ docker ps <span class="c1"># CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</span>
</code></pre></div>


</li>
<li>
<p>Build base Docker image from root Tango directory.</p>
<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> path/to/Tango
docker build -t autograding_image vmms/
docker images autograding_image    <span class="c1"># Check if image built</span>
</code></pre></div>


</li>
<li>
<p>Update <code>VMMS_NAME</code> in <code>config.py</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># in config.py</span>
<span class="n">VMMS_NAME</span> <span class="o">=</span> <span class="s2">&quot;localDocker&quot;</span>
</code></pre></div>


</li>
</ol>
<h2 id="amazon-ec2-vmms-setup">Amazon EC2 VMMS Setup</h2>
<p>This is a guide to set up Tango to run jobs on an Amazon EC2 VM.</p>
<ol>
<li>
<p>Create an <a href="https://aws.amazon.com/">AWS Account</a> or use an existing one.</p>
</li>
<li>
<p>Obtain your <code>access_key_id</code> and <code>secret_access_key</code> by following the instructions <a href="http://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">here</a>.</p>
</li>
<li>
<p>Add AWS Credentials to a file called <code>~/.boto</code> using the following format:</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span>Credentials<span class="o">]</span>
    <span class="nv">aws_access_key_id</span> <span class="o">=</span> MYAMAZONTESTKEY12345
    <span class="nv">aws_secret_access_key</span> <span class="o">=</span> myawssecretaccesskey12345
</code></pre></div>


<p>Tango uses the <a href="http://boto.cloudhackers.com/en/latest/">Boto</a> Python package to interface with Amazon Web Services</p>
</li>
<li>
<p>In the AWS EC2 console, create an Ubuntu 14.04+ EC2 instance and save the <code>.pem</code> file in a safe location.</p>
</li>
<li>
<p>Copy the directory and contents of <code>autodriver/</code> in the Tango repo into the EC2 VM. For more help connecting to the EC2 instance follow <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html#AccessingInstancesLinuxSCP">this guide</a></p>
<div class="codehilite"><pre><span></span><code>chmod <span class="m">400</span> /path/my-key-pair.pem
scp -i /path/my-key-pair.pem -r autodriver/ ubuntu@&lt;ec2-host-name&gt;.compute-1.amazonaws.com:~/
</code></pre></div>


<p>The autodriver is used as a sandbox environment to run the job inside the VM. It limits Disk I/O, Disk Usage, monitors security, and controls other valuable <code>sudo</code> level resources.</p>
</li>
<li>
<p>In the EC2 VM, compile the autodriver.</p>
<div class="codehilite"><pre><span></span><code>$ <span class="nb">cd</span> autodriver/
$ make clean<span class="p">;</span> make
$ cp -p autodriver /usr/bin/autodriver
</code></pre></div>


</li>
<li>
<p>Create the <code>autograde</code> Linux user and directory. All jobs will be run under this user.</p>
<div class="codehilite"><pre><span></span><code>$ useradd autograde
$ mkdir autograde
$ chown autograde autograde
$ chown :autograde autograde
</code></pre></div>


</li>
<li>
<p>In the AWS EC2 console, create an AMI image from your EC2 VM. Use <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html#how-to-create-ebs-ami">this guide</a> to create a custom AMI.</p>
</li>
<li>
<p>Exit the EC2 instance and edit the following values in <code>config.py</code> in the Tango directory.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># VMMS to use. Must be set to a VMMS implemented in vmms/ before</span>
<span class="c1"># starting Tango.  Options are: &quot;localDocker&quot;, &quot;distDocker&quot;,</span>
<span class="c1"># &quot;tashiSSH&quot;, and &quot;ec2SSH&quot;</span>
<span class="nv">VMMS_NAME</span> <span class="o">=</span> <span class="s2">&quot;ec2SSH&quot;</span>
<span class="c1">######</span>
<span class="c1"># Part 5: EC2 Constants</span>
<span class="c1">#</span>
<span class="nv">EC2_REGION</span> <span class="o">=</span> <span class="s1">&#39;us-east-1&#39;</span>             <span class="c1"># EC2 Region</span>
<span class="nv">EC2_USER_NAME</span> <span class="o">=</span> <span class="s1">&#39;ubuntu&#39;</span>             <span class="c1"># EC2 username</span>
<span class="nv">DEFAULT_AMI</span> <span class="o">=</span> <span class="s1">&#39;ami-4c99c35b&#39;</span>         <span class="c1"># Custom AMI Id</span>
<span class="nv">DEFAULT_INST_TYPE</span> <span class="o">=</span> <span class="s1">&#39;t2.micro&#39;</span>       <span class="c1"># Instance Type</span>
<span class="nv">DEFAULT_SECURITY_GROUP</span> <span class="o">=</span> <span class="s1">&#39;autolab-autograde-ec2&#39;</span>  <span class="c1"># Security Group with full access to EC2</span>
<span class="nv">SECURITY_KEY_PATH</span> <span class="o">=</span> <span class="s1">&#39;/path/to/my-key-pair.pem&#39;</span>    <span class="c1"># Absolute path to my-key-pair.pem</span>
<span class="nv">DYNAMIC_SECURITY_KEY_PATH</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>       <span class="c1"># Leave blank</span>
<span class="nv">SECURITY_KEY_NAME</span> <span class="o">=</span> <span class="s1">&#39;my-key-pair&#39;</span>    <span class="c1"># Name of the key file. Ex: if file name is &#39;my-key-pair.pem&#39;, fill value with &#39;my-key-pair&#39;</span>
<span class="nv">TANGO_RESERVATION_ID</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>           <span class="c1"># Leave as 1</span>
<span class="nv">INSTANCE_RUNNING</span> <span class="o">=</span> <span class="m">16</span>                <span class="c1"># Status code of a running instance, leave as 16</span>
</code></pre></div>


</li>
<li>
<p>You should now be ready to run Tango jobs on EC2! Use the <a href="/tango-cli/">Tango CLI</a> to test your setup.</p>
</li>
</ol>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../tango-rest/" title="REST API" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                REST API
              </span>
            </div>
          </a>
        
        
          <a href="../tango-deploy/" title="Deploying Tango" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Deploying Tango
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Autolab" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://facebook.com/autolabproject" target="_blank" rel="noopener" title="facebook" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
      
    
  </body>
</html>